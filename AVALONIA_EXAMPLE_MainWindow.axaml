<Window x:Class="LinkerPlayer.Views.MainWindow"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:LinkerPlayer.ViewModels"
        xmlns:views="using:LinkerPlayer.Views"
        Title="LinkerPlayer"
        Width="800" Height="600"
        MinWidth="300" MinHeight="200"
        Background="{DynamicResource MainWindowGradientStartBrush}"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="40"
        Icon="/Assets/app64.ico"
        WindowStartupLocation="CenterScreen"
        SystemDecorations="BorderOnly">

  <Design.DataContext>
    <vm:MainViewModel/>
  </Design.DataContext>

  <Grid Margin="0">
    <Grid.RowDefinitions>
      <RowDefinition Height="40" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>

    <!-- Custom Title Bar -->
    <Border Grid.Row="0" 
            Background="{DynamicResource MainWindowGradientStartBrush}"
            PointerPressed="TitleBar_PointerPressed">
      <views:TitlebarButtons 
        Name="TitlebarButtons"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch" />
    </Border>

    <!-- Main Content -->
    <Grid Grid.Row="1">
      <Grid.Background>
        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
          <GradientStop Color="{DynamicResource MainWindowGradientStartColor}" />
          <GradientStop Offset="1" Color="{DynamicResource MainWindowGradientEndColor}" />
        </LinearGradientBrush>
      </Grid.Background>

      <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="105" />
      </Grid.RowDefinitions>

      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="238*" />
        <ColumnDefinition Width="5" />
        <ColumnDefinition Width="426*" />
        <ColumnDefinition Width="129*" />
      </Grid.ColumnDefinitions>

      <views:TrackInfo
        Name="TrackInfo"
        Grid.Row="0"
        Grid.Column="0" />

      <GridSplitter
        Grid.Row="0"
        Grid.Column="1"
        Background="Transparent" />

      <views:PlaylistTabs
        Name="PlaylistTabs"
        Grid.Row="0"
        Grid.Column="2"
        Grid.ColumnSpan="2"
        DataContext="{Binding PlaylistTabsViewModel}" />

      <views:PlayerControls
        Name="PlayerControls"
        Grid.Row="1"
        Grid.Column="0"
        Grid.ColumnSpan="4"
        DataContext="{Binding PlayerControlsViewModel}" />

    </Grid>
  </Grid>
</Window>