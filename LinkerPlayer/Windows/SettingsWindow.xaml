<Window
    x:Class="LinkerPlayer.Windows.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControls="clr-namespace:LinkerPlayer.UserControls"
    Title="Settings"
    Width="610"
    Height="600"
    MinWidth="610"
    MinHeight="475"
    AllowsTransparency="True"
    Closing="Window_Closing"
    Loaded="Window_Loaded"
    MouseDown="Window_MouseDown"
    StateChanged="Window_StateChanged"
    WindowStyle="None"
    mc:Ignorable="d">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="25" />
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <Style x:Key="NoStylingButton" TargetType="{x:Type Button}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="border"
                            Background="Transparent"
                            CornerRadius="10">
                            <ContentPresenter />
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3b3b42" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

        </Style>
    </Window.Resources>

    <Grid Focusable="True">
        <Grid.RowDefinitions>
            <RowDefinition Height="35" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid.Background>
            <SolidColorBrush Color="#212128" />
        </Grid.Background>

        <userControls:TitlebarButtons x:Name="TitlebarButtons" Panel.ZIndex="1" />

        <TabControl Name="TabControl" Grid.Row="1">
            <TabControl.Resources>
                <Style TargetType="TextBlock">
                    <Setter Property="FontFamily" Value="/Fonts/#Montserrat" />
                    <Setter Property="FontSize" Value="16" />
                    <Setter Property="Foreground" Value="#BDBDBD" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                </Style>

                <Style BasedOn="{StaticResource MaterialDesignComboBox}" TargetType="ComboBox">
                    <Setter Property="FontFamily" Value="/Fonts/#Montserrat" />
                    <Setter Property="FontSize" Value="16" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="Height" Value="27" />
                </Style>

                <Style TargetType="Grid">
                    <Setter Property="Margin" Value="0,0,0,20" />
                </Style>

                <Style TargetType="materialDesign:PackIcon">
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="HorizontalAlignment" Value="Center" />
                </Style>
            </TabControl.Resources>

            <!-- Audio Tab -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock Foreground="White">Audio</TextBlock>
                </TabItem.Header>

                <TabItem.Content>
                    <StackPanel Margin="30,50,30,0">
                        
                        <!-- Main Output Device -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="265" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Select main output device</TextBlock>

                            <ComboBox
                                Name="MainOutputDevicesList"
                                Grid.Column="1"
                                BorderBrush="{DynamicResource PrimaryHueMidBrush}"
                                Foreground="#BDBDBD">
                                <ComboBox.Resources>
                                    <SolidColorBrush x:Key="MaterialDesignPaper" Color="#212128" />
                                </ComboBox.Resources>
                            </ComboBox>
                        </Grid>

                        <!-- Additional Output Device -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="265" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Select additional output device</TextBlock>

                            <ComboBox
                                Name="AdditionalOutputDevicesList"
                                Grid.Column="1"
                                BorderBrush="{DynamicResource PrimaryHueMidBrush}"
                                Foreground="#BDBDBD">
                                <ComboBox.Resources>
                                    <SolidColorBrush x:Key="MaterialDesignPaper" Color="#212128" />
                                </ComboBox.Resources>
                            </ComboBox>
                        </Grid>

                        <!-- Mic Input Device -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="265" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Select mic input device</TextBlock>

                            <ComboBox
                                Name="InputDevicesList"
                                Grid.Column="1"
                                BorderBrush="{DynamicResource PrimaryHueMidBrush}"
                                Foreground="#BDBDBD">
                                <ComboBox.Resources>
                                    <SolidColorBrush x:Key="MaterialDesignPaper" Color="#212128" />
                                </ComboBox.Resources>
                            </ComboBox>
                        </Grid>

                        <!-- Mic Output Device -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="265" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Select mic output device</TextBlock>

                            <ComboBox
                                Name="MicOutputDevicesList"
                                Grid.Column="1"
                                BorderBrush="{DynamicResource PrimaryHueMidBrush}"
                                Foreground="#BDBDBD">
                                <ComboBox.Resources>
                                    <SolidColorBrush x:Key="MaterialDesignPaper" Color="#212128" />
                                </ComboBox.Resources>
                            </ComboBox>
                        </Grid>

                        <!-- Enable Output to Additional Device -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Enable output to additional device</TextBlock>
                            <ToggleButton Name="AdditionalOutputEnabled" Grid.Column="1" />
                        </Grid>

                        <!-- Enable Mic Output -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Enable mic output</TextBlock>
                            <ToggleButton Name="MicOutputEnabled" Grid.Column="1" />
                        </Grid>
                    </StackPanel>
                </TabItem.Content>
            </TabItem>

            <!-- Hotkeys Tab -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock Foreground="White">Hotkeys</TextBlock>
                </TabItem.Header>

                <TabItem.Content>
                    <StackPanel Name="HotkeyStackPanel" Margin="30,50,30,0" />
                </TabItem.Content>
            </TabItem>

            <!-- Other Tab -->
            <TabItem>
                <TabItem.Header>
                    <TextBlock Foreground="White">Other</TextBlock>
                </TabItem.Header>

                <TabItem.Content>
                    <StackPanel Margin="30,50,30,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Downloads folder</TextBlock>
                            <TextBlock Name="DownloadsFolder" Grid.Column="1" />
                            <Button
                                Grid.Column="2"
                                Click="EditDownloadsFolder"
                                Style="{StaticResource NoStylingButton}">
                                <materialDesign:PackIcon Foreground="White" Kind="PencilOutline" />
                            </Button>
                        </Grid>

                        <!-- Enable Sound Wave Visualization -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Enable sound wave visualization</TextBlock>
                            <ToggleButton Name="VisualizationEnabled" Grid.Column="1" />
                        </Grid>

                        <!-- Minimize to Tray On Close -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Minimize to tray on close</TextBlock>
                            <ToggleButton Name="MinimizeToTrayEnabled" Grid.Column="1" />
                        </Grid>

                        <!-- Enable equalizer on start -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="40" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0">Enable equalizer on start</TextBlock>
                            <ToggleButton Name="EqualizerOnStartEnabled" Grid.Column="1" />
                        </Grid>
                    </StackPanel>
                </TabItem.Content>
            </TabItem>
        </TabControl>

        <Button
            Grid.Row="2"
            Width="150"
            Margin="15"
            HorizontalAlignment="Right"
            Background="Transparent"
            Click="Save_Click"
            Content="Save" />

        <materialDesign:Snackbar
            Name="InfoSnackbar"
            Grid.Row="1"
            IsActive="False"
            MessageQueue="{materialDesign:MessageQueue}" />
    </Grid>
</Window>
