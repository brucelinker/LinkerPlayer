<UserControl
  x:Class="LinkerPlayer.UserControls.PlayerControls"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:converters="clr-namespace:LinkerPlayer.Converters"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:wave="clr-namespace:NAudio.Wave;assembly=NAudio.Core"
  d:DesignHeight="105"
  d:DesignWidth="1000"
  Background="{DynamicResource PlayerBackgroundBrush}"
  UseLayoutRounding="True"
  mc:Ignorable="d">

  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/LinkerPlayer;component/Styles/CircularButton.xaml" />
      </ResourceDictionary.MergedDictionaries>

      <converters:EnumBooleanConverter x:Key="PlayerStateToIconConverter">
        <converters:EnumBooleanConverter.TrueValue>
          <iconPacks:PackIconMaterial
            Width="19"
            Height="19"
            Margin="0"
            Kind="Pause" />
        </converters:EnumBooleanConverter.TrueValue>
        <converters:EnumBooleanConverter.FalseValue>
          <iconPacks:PackIconFontAwesome
            Width="20"
            Height="20"
            Margin="3,0,0,0"
            Kind="PlaySolid" />
        </converters:EnumBooleanConverter.FalseValue>
      </converters:EnumBooleanConverter>

    </ResourceDictionary>
  </UserControl.Resources>

  <Grid>

    <Grid.ColumnDefinitions>
      <!--  Playback buttons (fixed width)  -->
      <ColumnDefinition Width="Auto" />
      <!--  CurrentTrackName, CurrentTime, Progress Slider, TotalTime (scales with window width)  -->
      <ColumnDefinition Width="*" />
      <!--  Volume Mute and Volume Slider (fixed width)  -->
      <ColumnDefinition Width="Auto" />
      <!--  Shuffle and Equalizer buttons (fixed width)  -->
      <ColumnDefinition Width="Auto" />
    </Grid.ColumnDefinitions>

    <StackPanel
      Grid.Row="0"
      Grid.Column="0"
      Margin="25,0,25,0"
      VerticalAlignment="Center"
      Orientation="Horizontal">
      <!--<Grid Height="83">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="265" />
          <ColumnDefinition />
          <ColumnDefinition Width="260" />
          <ColumnDefinition Width="120" />
        </Grid.ColumnDefinitions>

      -->
      <!--  Player Buttons  -->
      <!--
        <Grid Grid.Column="0" Margin="30,14,0,0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
          </Grid.ColumnDefinitions>-->

      <!--  Prev Button  -->
      <Button
        Name="PrevButton"
        Width="36"
        Height="36"
        Margin="0,0,5,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        d:Foreground="White"
        Command="{Binding PrevCommand}"
        Content="{iconPacks:Material SkipPrevious,
                                     Width=13,
                                     Height=13}"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Style="{StaticResource LinkerCircleButton}"
        ToolTip="Previous Track" />

      <!--  Play Button  -->
      <Button
        x:Name="PlayButton"
        Width="55"
        Height="55"
        Margin="5,0,5,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        d:Foreground="White"
        Command="{Binding PlayPauseCommand}"
        Content="{Binding State, Mode=TwoWay, Converter={StaticResource PlayerStateToIconConverter}, ConverterParameter={x:Static wave:PlaybackState.Playing}}"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Style="{StaticResource LinkerCircleButton}" />

      <!--  Stop Button  -->
      <Button
        Name="StopButton"
        Width="36"
        Height="36"
        Margin="5,0,5,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        d:Foreground="White"
        Command="{Binding StopCommand}"
        Content="{iconPacks:Material Stop,
                                     Width=12,
                                     Height=12}"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Style="{StaticResource LinkerCircleButton}"
        ToolTip="Stop" />

      <!--  Next Button  -->
      <Button
        Name="NextButton"
        Width="36"
        Height="36"
        Margin="5,0,5,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        d:Foreground="White"
        Command="{Binding NextCommand}"
        Content="{iconPacks:Material SkipNext,
                                     Width=13,
                                     Height=13}"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Style="{StaticResource LinkerCircleButton}"
        ToolTip="Next File (j)" />
    </StackPanel>

    <!--  Player Slider Group  -->
    <!--<Grid Grid.Column="1" Margin="0,1,30,0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="65" />
            <ColumnDefinition />
            <ColumnDefinition Width="65" />
          </Grid.ColumnDefinitions>-->

    <!--<Border Grid.Column="0" BorderBrush="YellowGreen" BorderThickness="2" />
        <Border Grid.Column="1" BorderBrush="YellowGreen" BorderThickness="2" />
        <Border Grid.Column="2" BorderBrush="YellowGreen" BorderThickness="2" />-->

    <!--<Grid Grid.Column="1">
            <Grid.RowDefinitions>
              <RowDefinition Height="1*" />
    -->
    <!--  Current Track  -->
    <!--
              <RowDefinition Height="2*" />
    -->
    <!--  Timers and Slider  -->
    <!--
            </Grid.RowDefinitions>-->

    <!--  Current Track Name  -->

    <!--<Grid Grid.Row="1">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="30*" />
                <ColumnDefinition Width="10*" />
                <ColumnDefinition Width="9*" />
                <ColumnDefinition Width="17*" />
              </Grid.ColumnDefinitions>-->

    <!--<Border Grid.Column="0" BorderBrush="Yellow" BorderThickness="1" />
            <Border Grid.Column="1" BorderBrush="Yellow" BorderThickness="1" />
            <Border Grid.Column="2" BorderBrush="Yellow" BorderThickness="1" />
            <Border Grid.Column="3" BorderBrush="Yellow" BorderThickness="1" />-->


    <!--<UniformGrid
                Name="UniGrid"
                Grid.Column="0"
                Grid.ColumnSpan="4"
                Margin="0,0,0,10"
                Rows="1"
                SizeChanged="UniGrid_SizeChanged" />
            </Grid>

          </Grid>-->

    <Grid Grid.Column="1">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <!--  CurrentTrackName  -->
        <RowDefinition Height="*" />
        <!--  CurrentTime, Progress Slider, TotalTime  -->
      </Grid.RowDefinitions>

      <!--  Current Track Name (Row 0, spans all columns)  -->
      <TextBlock
        Name="CurrentTrackName"
        Grid.Row="0"
        Grid.Column="0"
        Margin="5,10,5,5"
        HorizontalAlignment="Center"
        VerticalAlignment="Top"
        d:Foreground="White"
        FontSize="16"
        FontWeight="Light"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Text="Song not selected" />

      <Grid Grid.Row="1" Margin="10,5,10,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <!--  CurrentTime  -->
          <ColumnDefinition Width="*" />
          <!--  Progress Slider  -->
          <ColumnDefinition Width="Auto" />
          <!--  TotalTime  -->
        </Grid.ColumnDefinitions>

        <!--  Current Time  -->
        <TextBlock
          Name="CurrentTime"
          Grid.Column="0"
          Padding="0,0,10,0"
          d:Foreground="White"
          FontSize="16"
          FontWeight="Light"
          Foreground="{DynamicResource PlayerForegroundBrush}"
          Text="0:00" />

        <!--  Player Slider  -->
        <Slider
          x:Name="SeekBar"
          Grid.Column="1"
          Margin="5,0,5,0"
          Panel.ZIndex="1"
          Maximum="100"
          Style="{StaticResource CustomHorizontalSlider}"
          ValueChanged="SeekBar_ValueChanged" />

        <!--  Total Time  -->
        <TextBlock
          Name="TotalTime"
          Grid.Column="2"
          Padding="10,0,0,0"
          d:Foreground="White"
          FontSize="16"
          FontWeight="Light"
          Foreground="{DynamicResource PlayerForegroundBrush}">
          0:00
        </TextBlock>
      </Grid>
    </Grid>

    <!--  Volume Group  -->
    <StackPanel
      Grid.Row="0"
      Grid.Column="2"
      Margin="25,5,5,5"
      Orientation="Horizontal">
      <!--<Grid.ColumnDefinitions>
            <ColumnDefinition Width="50" />
            <ColumnDefinition />
          </Grid.ColumnDefinitions>-->

      <!--  Mute Button  -->
      <ToggleButton
        Name="MuteButton"
        Width="36"
        Height="36"
        Margin="4,0,5,0"
        Command="{Binding MuteCommand}"
        CommandParameter="{Binding Path=IsChecked, RelativeSource={RelativeSource Self}, Mode=TwoWay}"
        ToolTip="Mute (m)">
        <ToggleButton.Style>
          <Style BasedOn="{StaticResource LinkerCircleToggleButton}" TargetType="ToggleButton">
            <Setter Property="Content" Value="{iconPacks:Octicons Unmute, Width=15, Height=15}" />
            <Setter Property="Foreground" Value="{DynamicResource PlayerForegroundBrush}" />
            <Style.Triggers>
              <Trigger Property="IsChecked" Value="true">
                <Setter Property="Content" Value="{iconPacks:Octicons Mute, Width=15, Height=15}" />
              </Trigger>
            </Style.Triggers>
          </Style>
        </ToggleButton.Style>
      </ToggleButton>

      <!--  Volume Slider  -->
      <Slider
        x:Name="VolumeSlider"
        Margin="5,0,10,0"
        VerticalAlignment="Center"
        Maximum="100"
        Style="{StaticResource CustomHorizontalSlider}"
        ValueChanged="VolumeSlider_ValueChanged" />

    </StackPanel>

    <!--  Other Settings  -->
    <StackPanel
      Grid.Row="0"
      Grid.Column="3"
      Margin="5"
      Orientation="Horizontal">
      <!--<Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
          </Grid.ColumnDefinitions>-->

      <!--  Shuffle Mode Button  -->
      <ToggleButton
        Name="ShuffleModeButton"
        Grid.Column="0"
        Width="36"
        Height="36"
        Margin="10,0,5,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Command="{Binding ShuffleCommand}"
        CommandParameter="{Binding Path=IsChecked, RelativeSource={RelativeSource Self}, Mode=TwoWay}"
        ToolTip="Shuffle (s)">
        <ToggleButton.Style>
          <Style BasedOn="{StaticResource LinkerCircleToggleButton}" TargetType="ToggleButton">
            <Setter Property="Content" Value="{iconPacks:Material ShuffleDisabled, Width=15, Height=15}" />
            <Setter Property="Foreground" Value="{DynamicResource PlayerForegroundBrush}" />
            <Style.Triggers>
              <Trigger Property="IsChecked" Value="true">
                <Setter Property="Content" Value="{iconPacks:Entypo Shuffle, Width=17, Height=17}" />
              </Trigger>
            </Style.Triggers>
          </Style>
        </ToggleButton.Style>
      </ToggleButton>

      <!--  Equalizer Button  -->
      <Button
        Name="EqualizerButton"
        Grid.Column="1"
        Width="36"
        Height="36"
        Margin="5,0,25,0"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        d:Foreground="White"
        Click="OnEqualizerButton_Click"
        Content="{iconPacks:Fontisto Equalizer,
                                     Width=18,
                                     Height=18}"
        Foreground="{DynamicResource PlayerForegroundBrush}"
        Style="{StaticResource LinkerCircleButton}"
        ToolTip="Equalizer" />
    </StackPanel>
  </Grid>

  <!--<Grid VerticalAlignment="Bottom">

        <StatusBar
          Margin="8,0,0,5"
          d:Foreground="White"
          Background="Transparent"
          Foreground="{DynamicResource ControlForegroundBrush}">
          <StatusBarItem>
            <TextBlock
              Name="StatusText"
              d:Text="MP3 | 320kbps | 44100 Hz | stereo"
              FontSize="13"
              FontWeight="Light" />
          </StatusBarItem>
        </StatusBar>

      </Grid>-->
  <!--</Grid>-->
</UserControl>
